{"ast":null,"code":"import _slicedToArray from\"/Users/God/Desktop/github/peritusit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/God/Desktop/github/peritusit/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useState,useContext}from'react';import{MediaContext}from'../../context/Media';import{makeStyles}from'@material-ui/core/styles';import{Grid,Paper,Typography,Divider,TextField,Button}from'@material-ui/core';import SuccessNotification from'../Notifications/SuccessNotification';import ErrorNotification from'../Notifications/ErrorNotification';import WarningNotification from'../Notifications/WarningNotification';var useStyles=makeStyles(function(theme){return{container:{display:'flex',justifyContent:'center',alignItems:'center',padding:40,paddingTop:100,height:'100vh',backgroundColor:'white'},paper:_defineProperty({display:'flex',justifyContent:'center',alignItems:'center',alignContent:'center',flexWrap:'wrap',color:'#0000a2',padding:40},theme.breakpoints.down('xs'),{padding:20}),header:{width:'100%'},divider:{marginBlockStart:'0.5em',width:'60%',marginBottom:20,backgroundColor:'rgb(0, 0, 0, 0.2)'},textFields:{width:'100%',marginBottom:20},button:{padding:10,width:'100%',backgroundColor:'#0000a2',color:'white'}};});var initInfo={name:'',email:'',message:''};var initNotifications={open:false,message:''};var Form=function Form(){var classes=useStyles();var media=useContext(MediaContext);var _useState=useState(_objectSpread({},initInfo)),_useState2=_slicedToArray(_useState,2),info=_useState2[0],setInfo=_useState2[1];var _useState3=useState(_objectSpread({},initNotifications)),_useState4=_slicedToArray(_useState3,2),success=_useState4[0],setSuccess=_useState4[1];var _useState5=useState(_objectSpread({},initNotifications)),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(_objectSpread({},initNotifications)),_useState8=_slicedToArray(_useState7,2),warning=_useState8[0],setWarning=_useState8[1];var closeError=function closeError(){setError(_objectSpread({},initNotifications));};var closeSuccess=function closeSuccess(){setSuccess(_objectSpread({},initNotifications));};var closeWarning=function closeWarning(){setWarning(_objectSpread({},initNotifications));};var preSubmit=function preSubmit(){switch(true){case info.name.length<1:return setWarning({open:true,message:'Name must have at least 2 characters'});case info.email.length<2:return setWarning({open:true,message:'Incorrect email!'});case info.message.length<2:return setWarning({open:true,message:'Message must have at least 2 characters!'});default:return handleSubmit();}};var handleSubmit=function handleSubmit(){fetch('/api/contact',{method:'POST',body:JSON.stringify(info),headers:{'Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(result){if(!result){return setError({open:true,message:'Something went wrong!'});}setSuccess({open:true,message:result.message});setInfo(_objectSpread({},initInfo));}).catch(function(){setError({open:true,message:'Something went wrong!'});});};return React.createElement(Grid,{className:classes.container,item:true,xs:12},React.createElement(Paper,{className:classes.paper},React.createElement(Typography,{className:classes.header,variant:media.xs?'h4':'h3',align:\"center\"},\"Contact Us\"),React.createElement(Divider,{className:classes.divider}),React.createElement(TextField,{className:classes.textFields,variant:\"outlined\",label:\"Name\",value:info.name,onChange:function onChange(e){return setInfo(_objectSpread({},info,{name:e.target.value}));}}),React.createElement(TextField,{className:classes.textFields,variant:\"outlined\",label:\"Email\",value:info.email,onChange:function onChange(e){return setInfo(_objectSpread({},info,{email:e.target.value}));}}),React.createElement(TextField,{className:classes.textFields,variant:\"outlined\",label:\"Message\",rows:\"5\",multiline:true,value:info.message,onChange:function onChange(e){return setInfo(_objectSpread({},info,{message:e.target.value}));}}),React.createElement(Button,{className:classes.button,onClick:preSubmit},React.createElement(Typography,null,\"Submit\"))),React.createElement(SuccessNotification,{success:success,closeSuccess:closeSuccess}),React.createElement(ErrorNotification,{error:error,closeError:closeError}),React.createElement(WarningNotification,{warning:warning,closeWarning:closeWarning}));};export default Form;","map":{"version":3,"sources":["/Users/God/Desktop/github/peritusit/client/src/components/Contact/Form.js"],"names":["React","useState","useContext","MediaContext","makeStyles","Grid","Paper","Typography","Divider","TextField","Button","SuccessNotification","ErrorNotification","WarningNotification","useStyles","theme","container","display","justifyContent","alignItems","padding","paddingTop","height","backgroundColor","paper","alignContent","flexWrap","color","breakpoints","down","header","width","divider","marginBlockStart","marginBottom","textFields","button","initInfo","name","email","message","initNotifications","open","Form","classes","media","info","setInfo","success","setSuccess","error","setError","warning","setWarning","closeError","closeSuccess","closeWarning","preSubmit","length","handleSubmit","fetch","method","body","JSON","stringify","headers","then","res","json","result","catch","xs","e","target","value"],"mappings":"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","sourcesContent":["import React, {\n    useState,\n    useContext,\n} from 'react';\n\nimport { MediaContext } from '../../context/Media';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n    Grid,\n    Paper,\n    Typography,\n    Divider,\n    TextField,\n    Button,\n} from '@material-ui/core';\n\nimport SuccessNotification from '../Notifications/SuccessNotification';\nimport ErrorNotification from '../Notifications/ErrorNotification';\nimport WarningNotification from '../Notifications/WarningNotification';\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        padding: 40,\n        paddingTop: 100,\n        height: '100vh',\n        backgroundColor: 'white',\n    },\n    paper: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        alignContent: 'center',\n        flexWrap: 'wrap',\n        color: '#0000a2',\n        padding: 40, \n        [theme.breakpoints.down('xs')]: {\n            padding: 20,\n        },\n    },\n    header: {\n        width: '100%',\n    },\n    divider: {\n        marginBlockStart: '0.5em',\n        width: '60%',\n        marginBottom: 20,\n        backgroundColor: 'rgb(0, 0, 0, 0.2)',\n    },\n    textFields: {\n        width: '100%',\n        marginBottom: 20,\n    },\n    button: {\n        padding: 10,\n        width: '100%',\n        backgroundColor: '#0000a2',\n        color: 'white',\n    },\n}));\n\nconst initInfo = {\n    name: '',\n    email: '',\n    message: '',\n};\n\nconst initNotifications = {\n    open: false,\n    message: '',\n};\n\nconst Form = () => {\n\n    const classes = useStyles();\n    const media = useContext(MediaContext);\n\n    const [info, setInfo] = useState({ ...initInfo });\n    const [success, setSuccess] = useState({ ...initNotifications });\n    const [error, setError] = useState({ ...initNotifications });\n    const [warning, setWarning] = useState({ ...initNotifications });\n\n    const closeError = () => { setError({ ...initNotifications }); };\n    const closeSuccess = () => { setSuccess({ ...initNotifications }); };\n    const closeWarning = () => { setWarning({ ...initNotifications }); };\n\n    const preSubmit = () => {\n        switch (true) {\n            case info.name.length < 1:\n                return setWarning({\n                    open: true,\n                    message: 'Name must have at least 2 characters'\n                })\n            case info.email.length < 2:\n                return setWarning({\n                    open: true,\n                    message: 'Incorrect email!',\n                });\n            case info.message.length < 2:\n                return setWarning({\n                    open: true,\n                    message: 'Message must have at least 2 characters!',\n                });\n            default:\n                return handleSubmit();\n        }\n    };\n\n    const handleSubmit = () => {\n        fetch('/api/contact', {\n            method: 'POST',\n            body: JSON.stringify(info),\n            headers: { 'Content-Type': 'application/json' },\n        })\n            .then(res => res.json())\n            .then((result) => {\n                if (!result) {\n                    return setError({\n                        open: true,\n                        message: 'Something went wrong!',\n                    });\n                }\n                setSuccess({\n                    open: true,\n                    message: result.message,\n                });\n                setInfo({ ...initInfo });\n            })\n            .catch(() => {\n                setError({\n                    open: true,\n                    message: 'Something went wrong!',\n                });\n            });\n    };\n\n    return (\n        <Grid className={classes.container} item xs={12}>\n\n            <Paper className={classes.paper}>\n\n                <Typography\n                    className={classes.header}\n                    variant={media.xs ? 'h4' : 'h3'}\n                    align=\"center\"\n                >\n                    Contact Us\n                </Typography>\n\n                <Divider className={classes.divider} />\n\n                <TextField\n                    className={classes.textFields}\n                    variant=\"outlined\"\n                    label=\"Name\"\n                    value={info.name}\n                    onChange={(e) => setInfo({ ...info, name: e.target.value})}\n                />\n\n                <TextField\n                    className={classes.textFields}\n                    variant=\"outlined\"\n                    label=\"Email\"\n                    value={info.email}\n                    onChange={(e) => setInfo({ ...info, email: e.target.value})}\n                />\n\n                <TextField\n                    className={classes.textFields}\n                    variant=\"outlined\"\n                    label=\"Message\"\n                    rows=\"5\"\n                    multiline\n                    value={info.message}\n                    onChange={(e) => setInfo({ ...info, message: e.target.value})}\n                />\n\n                <Button\n                    className={classes.button}\n                    onClick={preSubmit}\n                >\n                    <Typography>\n                        Submit\n                    </Typography>\n                </Button>\n\n            </Paper>\n\n            <SuccessNotification\n                success={success}\n                closeSuccess={closeSuccess}\n            />\n            <ErrorNotification\n                error={error}\n                closeError={closeError}\n            />\n            <WarningNotification\n                warning={warning}\n                closeWarning={closeWarning}\n            />\n\n        </Grid>\n    );\n};\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}